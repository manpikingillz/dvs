<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/pages/templates/Template.xhtml">

    <ui:define name="title">
        <h:outputText value="Subscribe for Data"/>
    </ui:define>
    <ui:define name="body">
        <p:panel style="width: 30%; margin: auto; text-align: center">
            <h:outputText value="Subscribe for data" style="font-size: xx-large!important; color: #0BA25E; font-family: sans-serif; "/>
        </p:panel>
        <h:form id="requestDataPriceForm">
            <p:selectOneButton id="requestDataPriceSecurity">
                <f:selectItems value="#{instrumentController.items}"
                               var="item"
                               itemValue="#{item}"
                               itemLabel="#{item.instrumentName}"/>

            </p:selectOneButton>
        </h:form>

        <p:spacer height="20px" width="0px"/>   

        <h:form id="requestDataPriceListForm">

            <p:dataTable id="dataPriceList" value="#{tYPEOFDATATOSELLhasDATADURATIONCATEGORYController.items}" 
                         var="item"
                         selection="#{tYPEOFDATATOSELLhasDATADURATIONCATEGORYController.selectedItems}"

                         rowKey="#{item.id}">
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="TypeOfDataToSell"/>
                    </f:facet>
                    <h:outputText value="#{item.typeOfDataToSell.typeOfDataToSell}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="DataDurationCategory"/>
                    </f:facet>
                    <h:outputText value="#{item.dataDurationCategory.dataDurationCategory}"/>
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Price"/>
                    </f:facet>
                    <h:outputText value="#{item.price}"/>
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Description"/>
                    </f:facet>
                    <h:outputText value="#{item.remarks}"/>
                </p:column>
                <p:column width="4%" selectionMode="multiple"/> 
            </p:dataTable>

            <p:commandButton value="Check Out" action="#{tYPEOFDATATOSELLhasDATADURATIONCATEGORYController.saveRequest()}"/>
            <p:commandButton value="Generate Payment Slip" action="/pages/protected/investor/paymentSlip.xhtml" ajax="false" immediate="true"/>
        </h:form>
    </ui:define>
</ui:composition>

